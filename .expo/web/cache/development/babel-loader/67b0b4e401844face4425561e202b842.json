{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\LogIn\\\\screens\\\\Home.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport Contact from \"./Contact\";\nimport { StatusBar } from 'expo-status-bar';\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { SafeAreaProvider } from 'react-native-safe-area-context';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport axios from 'axios';\nimport Report from \"./Report\";\nimport { connect } from 'react-redux';\n\nvar dateFormat = require('dateformat');\n\nimport { getUserInfo } from \"../redux/user/userActions\";\n\nfunction Home(_ref) {\n  var navigation = _ref.navigation,\n      authState = _ref.authState,\n      userState = _ref.userState,\n      getInfo = _ref.getInfo;\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      ID = _React$useState2[0],\n      setID = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      Type = _React$useState4[0],\n      setType = _React$useState4[1];\n\n  var _React$useState5 = React.useState(\"\"),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      Location = _React$useState6[0],\n      setLocation = _React$useState6[1];\n\n  var _React$useState7 = React.useState(\"\"),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      date = _React$useState8[0],\n      setDate = _React$useState8[1];\n\n  var _React$useState9 = React.useState(\"\"),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      Fare = _React$useState10[0],\n      setFare = _React$useState10[1];\n\n  var _React$useState11 = React.useState(\"\"),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      Status = _React$useState12[0],\n      setStatus = _React$useState12[1];\n\n  var _React$useState13 = React.useState(\"\"),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      Email = _React$useState14[0],\n      setEmail = _React$useState14[1];\n\n  var _React$useState15 = React.useState(\"\"),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      ID2 = _React$useState16[0],\n      setID2 = _React$useState16[1];\n\n  var _React$useState17 = React.useState(\"\"),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      Type2 = _React$useState18[0],\n      setType2 = _React$useState18[1];\n\n  var _React$useState19 = React.useState(\"\"),\n      _React$useState20 = _slicedToArray(_React$useState19, 2),\n      Location2 = _React$useState20[0],\n      setLocation2 = _React$useState20[1];\n\n  var _React$useState21 = React.useState(\"\"),\n      _React$useState22 = _slicedToArray(_React$useState21, 2),\n      date2 = _React$useState22[0],\n      setDate2 = _React$useState22[1];\n\n  var _React$useState23 = React.useState(\"\"),\n      _React$useState24 = _slicedToArray(_React$useState23, 2),\n      Fare2 = _React$useState24[0],\n      setFare2 = _React$useState24[1];\n\n  var _React$useState25 = React.useState(\"\"),\n      _React$useState26 = _slicedToArray(_React$useState25, 2),\n      Status2 = _React$useState26[0],\n      setStatus2 = _React$useState26[1];\n\n  var _React$useState27 = React.useState(\"\"),\n      _React$useState28 = _slicedToArray(_React$useState27, 2),\n      Email2 = _React$useState28[0],\n      setEmail2 = _React$useState28[1];\n\n  var _React$useState29 = React.useState(false),\n      _React$useState30 = _slicedToArray(_React$useState29, 2),\n      Current = _React$useState30[0],\n      setCurrent = _React$useState30[1];\n\n  var _React$useState31 = React.useState(false),\n      _React$useState32 = _slicedToArray(_React$useState31, 2),\n      Past = _React$useState32[0],\n      setPast = _React$useState32[1];\n\n  React.useEffect(function () {\n    handleLogIn();\n    getInfo(authState.token);\n  }, []);\n\n  var handleLogIn = function handleLogIn() {\n    return _regeneratorRuntime.async(function handleLogIn$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(axios.get(\"http://192.168.1.108:3000/getBooking/email@hotmail.com\", {}).then(function (response) {\n              var data = response.data;\n\n              for (var i = 0; i < data.length; i++) {\n                if (data[i].Status == 1) {\n                  setID(data[i].ID);\n                  setType(data[i].Type);\n                  setLocation(data[i].Location);\n                  setDate(dateFormat(data[i].date, \"ddd mmm dd yyyy\"));\n                  setFare(data[i].Fare);\n                  setStatus(data[i].Status);\n                  setEmail(data[i].Email);\n                  setCurrent(Current);\n                }\n\n                if (data[i].Status == 0) {\n                  setID2(data[i].ID);\n                  setType2(data[i].Type);\n                  setLocation2(data[i].Location);\n                  setDate2(dateFormat(data[i].date, \"ddd mmm dd yyyy\"));\n                  setFare2(data[i].Fare);\n                  setStatus2(data[i].Status);\n                  setEmail2(data[i].Email);\n                  setPast(Past);\n                }\n              }\n\n              console.log(response);\n            }).catch(function (error) {\n              console.log(error);\n            }));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(SafeAreaProvider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 6\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: 'center',\n      color: '#364f6b',\n      fontWeight: 'bold',\n      marginVertical: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 6\n    }\n  }, \"BOOK A CAR OR BIKE MECHANIC\"), React.createElement(View, {\n    style: {\n      flexDirection: 'row'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 6\n    }\n  }, React.createElement(Image, {\n    source: {\n      uri: 'https://images.unsplash.com/photo-1552519507-da3b142c6e3d?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8Y2Fyc3xlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&w=1000&q=80'\n    },\n    style: {\n      width: 150,\n      height: 120\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 46\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      navigation.navigate('Contact');\n    },\n    style: styles.button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 10\n    }\n  }, \"BOOK NOW\")), Current == true ? {} : React.createElement(View, {\n    style: {\n      flexDirection: 'row'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 97\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: '#364f6b',\n      width: 300,\n      fontWeight: 'bold',\n      borderWidth: 3,\n      borderColor: '#3cb371',\n      borderRadius: 15,\n      backgroundColor: '#fff',\n      marginVertical: 20,\n      textAlign: 'left'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 137\n    }\n  }, \"Current Request \", \"\\n\", \"  \", date, \" \", '\\n', \"  \", Location, '\\n', \"  PKR \", Fare)), Past == true ? null : React.createElement(View, {\n    style: {\n      flexDirection: 'row'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 31\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: '#364f6b',\n      width: 300,\n      fontWeight: 'bold',\n      borderWidth: 3,\n      borderColor: '#98fb98',\n      borderRadius: 15,\n      backgroundColor: '#fff',\n      marginVertical: 0,\n      textAlign: 'left'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 71\n    }\n  }, \"  Past Requests\", \"\\n\", \"  \", date2, '\\n', \"  \", Location2, '\\n', \"  EXPECTED PKR \", Fare2)), React.createElement(StatusBar, {\n    style: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 8\n    }\n  })));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f6f6f6',\n    alignItems: 'center'\n  },\n  button: {\n    backgroundColor: \"#f4511e\",\n    padding: 12,\n    borderRadius: 60,\n    marginVertical: 20\n  },\n  buttonText: {\n    color: '#fff',\n    fontWeight: 'bold'\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    authState: state.auth,\n    userState: state.user\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getInfo: function getInfo(tokenVal) {\n      return dispatch(getUserInfo(tokenVal));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["D:/LogIn/screens/Home.js"],"names":["Contact","StatusBar","React","SafeAreaProvider","MaterialCommunityIcons","axios","Report","connect","dateFormat","require","getUserInfo","Home","navigation","authState","userState","getInfo","useState","ID","setID","Type","setType","Location","setLocation","date","setDate","Fare","setFare","Status","setStatus","Email","setEmail","ID2","setID2","Type2","setType2","Location2","setLocation2","date2","setDate2","Fare2","setFare2","Status2","setStatus2","Email2","setEmail2","Current","setCurrent","Past","setPast","useEffect","handleLogIn","token","get","then","response","data","i","length","console","log","catch","error","styles","container","textAlign","color","fontWeight","marginVertical","flexDirection","uri","width","height","navigate","button","buttonText","borderWidth","borderColor","borderRadius","backgroundColor","StyleSheet","create","flex","alignItems","padding","mapStateToProps","state","auth","user","mapDispatchToProps","dispatch","tokenVal"],"mappings":"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","sourcesContent":["import Contact from './Contact';\r\nimport { StatusBar } from 'expo-status-bar';\r\nimport React from 'react';\r\nimport { StyleSheet,SafeAreaView, Text, TouchableOpacity, View, Image } from 'react-native';\r\nimport { SafeAreaProvider } from 'react-native-safe-area-context';\r\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\r\n//import car from '../assets/car.jpeg';\r\n//import bike from '../assets/bike.jpeg';\r\n//import display from '../assets/display.png';\r\nimport axios from 'axios';\r\nimport Report from './Report'\r\nimport { connect } from 'react-redux';\r\nconst dateFormat = require('dateformat');\r\nimport {getUserInfo} from '../redux/user/userActions'\r\n\r\n//const router = require('express').Router();\r\n\r\n\r\n\r\nfunction Home({ navigation, authState, userState, getInfo }) {\r\n\r\n  /*router.route('/getBooking/:id').get((req, res) => {\r\n    Bookings.findById(req.params.id)\r\n      .then(Bookings => res.json(Bookings))\r\n      .catch(err => res.status(400).json('Error: ' + err));\r\n  });*/\r\n\r\n  const [ID, setID] = React.useState(\"\");\r\n  const [Type, setType] = React.useState(\"\");\r\n  const [Location, setLocation] = React.useState(\"\");\r\n  const [date, setDate] = React.useState(\"\");\r\n  const [Fare, setFare] = React.useState(\"\");\r\n  const [Status, setStatus] = React.useState(\"\");\r\n  const [Email, setEmail] = React.useState(\"\");\r\n\r\n  const [ID2, setID2] = React.useState(\"\");\r\n  const [Type2, setType2] = React.useState(\"\");\r\n  const [Location2, setLocation2] = React.useState(\"\");\r\n  const [date2, setDate2] = React.useState(\"\");\r\n  const [Fare2, setFare2] = React.useState(\"\");\r\n  const [Status2, setStatus2] = React.useState(\"\");\r\n  const [Email2, setEmail2] = React.useState(\"\");\r\n\r\n  const [Current, setCurrent] = React.useState(false);\r\n  const [Past, setPast] = React.useState(false);\r\n\r\n\r\n\r\n\r\n  React.useEffect(() => {\r\n    handleLogIn();\r\n    getInfo(authState.token)\r\n  }, []);\r\n  \r\n  const handleLogIn = async () => {\r\n    \r\n        await axios.get(\"http://192.168.1.108:3000/getBooking/email@hotmail.com\", {\r\n        })\r\n        .then((response) => {\r\n\r\n          var data = response.data;\r\n\r\n          for (var i = 0; i < data.length; i++){\r\n              if (data[i].Status == 1){\r\n\r\n                setID(data[i].ID)\r\n                setType(data[i].Type)\r\n                setLocation(data[i].Location)\r\n                setDate(dateFormat(data[i].date, \"ddd mmm dd yyyy\" ))\r\n                setFare(data[i].Fare)\r\n                setStatus(data[i].Status)\r\n                setEmail(data[i].Email)\r\n\r\n                setCurrent(Current)\r\n              }\r\n\r\n              if (data[i].Status == 0){\r\n\r\n                setID2(data[i].ID)\r\n                setType2(data[i].Type)\r\n                setLocation2(data[i].Location)\r\n                setDate2(dateFormat(data[i].date, \"ddd mmm dd yyyy\" ))\r\n                setFare2(data[i].Fare)\r\n                setStatus2(data[i].Status)\r\n                setEmail2(data[i].Email)\r\n\r\n                setPast(Past)\r\n\r\n              }\r\n          }\r\n            //Alert.alert(response)\r\n            console.log(response);\r\n        })\r\n        .catch((error) => {\r\n            console.log(error)\r\n            //Alert.alert(\"Unsuccessful\")\r\n        })\r\n}\r\n  \r\n\r\n  return (\r\n     <SafeAreaProvider>\r\n     <View style={styles.container}>\r\n     <Text style = {{textAlign : 'center', color :'#364f6b', fontWeight: 'bold', marginVertical: 20 }}>BOOK A CAR OR BIKE MECHANIC</Text>\r\n     <View style = {{flexDirection : 'row'}}><Image source={{uri: 'https://images.unsplash.com/photo-1552519507-da3b142c6e3d?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8Y2Fyc3xlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&w=1000&q=80'}} style={{ width: 150, height: 120}} />{/*<Image source={bike} style={{ width: 150, height: 120}} />*/}</View>\r\n     <TouchableOpacity onPress={() => {navigation.navigate('Contact')}} style={styles.button}>\r\n         <Text style={styles.buttonText}>BOOK NOW</Text>\r\n       </TouchableOpacity>\r\n       {Current == true ? {/*<Image source={display} style={{ width: 300, height: 200}} />*/} : <View style = {{flexDirection : 'row'}}><Text style = {{color : '#364f6b' , width: 300, fontWeight : 'bold', borderWidth: 3, borderColor: '#3cb371', borderRadius: 15, backgroundColor : '#fff', marginVertical: 20, textAlign : 'left'}}>Current Request {\"\\n\"}  {date} {'\\n'}  {Location}{'\\n'}  PKR {Fare}</Text></View>}\r\n       {Past == true ? null : <View style = {{flexDirection : 'row'}}><Text style = {{color : '#364f6b' , width: 300, fontWeight : 'bold', borderWidth: 3, borderColor: '#98fb98', borderRadius: 15, backgroundColor : '#fff',  marginVertical: 0, textAlign : 'left'}}>  Past Requests{\"\\n\"}  {date2}{'\\n'}  {Location2}{'\\n'}  EXPECTED PKR {Fare2}</Text></View>}    \r\n          \r\n       \r\n\r\n       <StatusBar style=\"auto\" />\r\n       \r\n      \r\n     </View>\r\n     </SafeAreaProvider>  \r\n  \r\n\r\n  );\r\n  \r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n    alignItems: 'center',\r\n  },\r\n  button: {\r\n    backgroundColor: \"#f4511e\",\r\n    padding: 12,\r\n    borderRadius: 60,\r\n    marginVertical: 20,\r\n  },\r\n  buttonText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold'\r\n  }, \r\n});\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    authState: state.auth,\r\n    userState: state.user\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    getInfo: (tokenVal) => dispatch(getUserInfo(tokenVal))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);"]},"metadata":{},"sourceType":"module"}